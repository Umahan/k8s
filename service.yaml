# Service - абстракция для доступа к группе подов
apiVersion: v1  # Версия API для Service
kind: Service  # Тип ресурса - сервис
metadata:
  name: web-app-service  # Уникальное имя сервиса
  namespace: production  # Namespace где находятся поды
spec:
  # Селектор для поиска подов, которые входят в сервис
  selector:
    app: web-app  # Выбирает все поды с меткой app=web-app
  
  # Конфигурация портов сервиса
  ports:
  - port: 80  # Порт, на котором сервис принимает запросы внутри кластера
    targetPort: 8080  # Порт контейнера, на который перенаправлять трафик
    protocol: TCP  # Протокол передачи данных
  
  type: ClusterIP  # Тип сервиса - внутренний IP в кластере (внешний доступ через Ingress)
